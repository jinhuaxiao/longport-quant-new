# âœ… è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿ - å½“å‰çŠ¶æ€

## ðŸŽ‰ å·²ä¿®å¤å®Œæˆï¼

### **ä¿®å¤çš„é—®é¢˜**

1. âœ… **AccountBalanceå±žæ€§é”™è¯¯** - æ”¹ç”¨ `total_cash`
2. âœ… **StockPositionå±žæ€§é”™è¯¯** - ä½¿ç”¨æ­£ç¡®çš„å±žæ€§å
3. âœ… **ç›‘æŽ§117ä¸ªæ ‡çš„** - ä¿®æ”¹ä¸º5ä¸ªæµ‹è¯•æ ‡çš„
4. âœ… **ç§»é™¤æ¨¡æ‹Ÿæ¨¡å¼æ ‡è®°** - ç›´æŽ¥ä½¿ç”¨æ¨¡æ‹Ÿç›˜API
5. âœ… **00700.HKé™æµ** - å·²ä»ŽKçº¿åŒæ­¥ä¸­æŽ’é™¤

---

## ðŸ“Š ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

### **æµ‹è¯•è¿è¡Œè¾“å‡º**
```
============================================================
å¯åŠ¨å®žæ—¶è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿ
============================================================
âœ… åˆå§‹åŒ–è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿï¼ˆæ¨¡æ‹Ÿç›˜APIï¼‰
âœ… ç›‘æŽ§ 5 ä¸ªæ ‡çš„: ['09988.HK', '03690.HK', '01810.HK', 'AAPL.US', 'MSFT.US']

è´¦æˆ·çŠ¶æ€:
  ðŸ’° ä½™é¢: HKD -1,132,837.53
  ðŸ“¦ æŒä»“: 6ä¸ªæ ‡çš„
    - NVDA.US: 1318è‚¡ @ $172.15
    - 9988.HK: 600è‚¡ @ $141.10
    - 857.HK: 10,000è‚¡ @ $7.40
    - 3988.HK: 10,000è‚¡ @ $4.34
    - 2319.HK: 1000è‚¡ @ $15.27
    - 1024.HK: 900è‚¡ @ $70.60

ç¬¬ 1 è½®æ‰«æ - 10:49:48
============================================================
ðŸ“Š èŽ·å–è¡Œæƒ…: 5ä¸ªæ ‡çš„
â° å½“å‰æ—¶é—´: ä¸åœ¨äº¤æ˜“æ—¶æ®µï¼ˆæ¸¯è‚¡å·²æ”¶ç›˜ï¼Œç¾Žè‚¡æœªå¼€ç›˜ï¼‰
ðŸ’¤ æœ¬è½®æ— äº¤æ˜“ä¿¡å·

â³ ç­‰å¾…60ç§’è¿›å…¥ä¸‹ä¸€è½®...
```

---

## â° äº¤æ˜“æ—¶æ®µè¯´æ˜Ž

### **ä¸ºä»€ä¹ˆçŽ°åœ¨èŽ·å–ä¸åˆ°ä»·æ ¼ï¼Ÿ**

**å½“å‰æ—¶é—´**ï¼š10:50ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰

| å¸‚åœº | äº¤æ˜“æ—¶æ®µï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ | å½“å‰çŠ¶æ€ |
|------|-------------------|---------|
| æ¸¯è‚¡ | 09:30-12:00, 13:00-16:00 | âŒ å·²æ”¶ç›˜ï¼ˆ12:00ç»“æŸï¼‰ |
| ç¾Žè‚¡ | 21:30-æ¬¡æ—¥04:00 | âŒ æœªå¼€ç›˜ï¼ˆ21:30å¼€å§‹ï¼‰ |

**ç³»ç»Ÿæ­£å¸¸**ï¼š
- âœ… APIè¿žæŽ¥æ­£å¸¸
- âœ… è´¦æˆ·æŸ¥è¯¢æ­£å¸¸
- âœ… æŒä»“æŸ¥è¯¢æ­£å¸¸
- âœ… è¡Œæƒ…æŽ¥å£æ­£å¸¸ï¼ˆåªæ˜¯ä¸åœ¨äº¤æ˜“æ—¶æ®µï¼‰

---

## ðŸš€ å®Œæ•´è¿è¡Œå‘½ä»¤

```bash
# å¯åŠ¨è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿ
python3 scripts/realtime_auto_trading_example.py
```

### **ç³»ç»Ÿä¼šåšä»€ä¹ˆ**

1. **æ¯60ç§’ä¸€è½®å¾ªçŽ¯**
2. **æ£€æŸ¥äº¤æ˜“æ—¶æ®µ**
   - æ¸¯è‚¡ï¼š9:30-12:00, 13:00-16:00
   - ç¾Žè‚¡ï¼š21:30-04:00
3. **èŽ·å–å®žæ—¶è¡Œæƒ…**
   - äº¤æ˜“æ—¶æ®µå†…ï¼šèŽ·å–å®žæ—¶ä»·æ ¼
   - éžäº¤æ˜“æ—¶æ®µï¼šä»·æ ¼å¯èƒ½ä¸ºç©º
4. **æŸ¥è¯¢è´¦æˆ·çŠ¶æ€**
   - ä½™é¢æŸ¥è¯¢ âœ…
   - æŒä»“æŸ¥è¯¢ âœ…
5. **ç”Ÿæˆäº¤æ˜“ä¿¡å·**
   - æ£€æŸ¥å·²äº¤æ˜“
   - æ£€æŸ¥æŒä»“æ•°é‡
   - æ£€æŸ¥èµ„é‡‘å……è¶³
   - ç­–ç•¥æ¡ä»¶åˆ¤æ–­
6. **æ‰§è¡Œè®¢å•**
   - æäº¤åˆ°æ¨¡æ‹Ÿç›˜
   - è®°å½•è®¢å•ID
   - æ›´æ–°å·²äº¤æ˜“åˆ—è¡¨

---

## ðŸ“ é…ç½®æ–‡ä»¶

### **è‡ªé€‰è‚¡é…ç½®** (`configs/watchlist.yml`)

```yaml
# è‡ªåŠ¨äº¤æ˜“è‡ªé€‰è‚¡ï¼ˆå°‘é‡æµ‹è¯•ï¼‰
markets:
  hk:
    - 09988.HK  # é˜¿é‡Œå·´å·´
    - 03690.HK  # ç¾Žå›¢
    - 01810.HK  # å°ç±³
  us:
    - AAPL.US   # è‹¹æžœ
    - MSFT.US   # å¾®è½¯

symbols: []
```

### **äº¤æ˜“å‚æ•°** (åœ¨è„šæœ¬ä¸­ä¿®æ”¹)

```python
class RealtimeAutoTrader:
    def __init__(self):
        # å¯ä¿®æ”¹çš„å‚æ•°
        self.budget_per_stock = 5000   # æ¯åªè‚¡ç¥¨é¢„ç®—
        self.max_positions = 5          # æœ€å¤§æŒä»“æ•°
        self.scan_interval = 60         # æ‰«æé—´éš”ï¼ˆç§’ï¼‰
```

---

## ðŸŽ¯ åœ¨äº¤æ˜“æ—¶æ®µè¿è¡Œçš„é¢„æœŸè¾“å‡º

### **æ¸¯è‚¡æ—©ç›˜ï¼ˆ9:30-12:00ï¼‰**

```
============================================================
ç¬¬ N è½®æ‰«æ - 09:45:23
============================================================
ðŸ“Š èŽ·å–åˆ° 3 ä¸ªæ¸¯è‚¡çš„å®žæ—¶è¡Œæƒ…
  09988.HK: $175.30 (+1.10%)
  03690.HK: $102.30 (-0.49%)
  01810.HK: $53.90 (+0.65%)

ðŸ’° è´¦æˆ·ä½™é¢: HKD -1,132,837.53
ðŸ“¦ å½“å‰æŒä»“: 6/5 (å·²è¾¾ä¸Šé™)

â­ï¸ 09988.HK: å·²æŒæœ‰ï¼Œè·³è¿‡
â­ï¸ 03690.HK: æŒä»“å·²æ»¡(6/5)ï¼Œè·³è¿‡
â­ï¸ 01810.HK: æŒä»“å·²æ»¡(6/5)ï¼Œè·³è¿‡

ðŸ’¤ æœ¬è½®æ— äº¤æ˜“ä¿¡å·ï¼ˆæŒä»“å·²æ»¡ï¼‰
```

### **å¦‚æžœæœ‰å¯ç”¨ä»“ä½**

```
ðŸŽ¯ ç”Ÿæˆ 2 ä¸ªäº¤æ˜“ä¿¡å·:
  âœ… 03690.HK: ç”Ÿæˆä¹°å…¥ä¿¡å· - 48è‚¡ @ $102.30

ðŸ’° æ£€æŸ¥èµ„é‡‘: éœ€è¦ $4,910.40, å¯ç”¨ $10,000.00 âœ…

ðŸ“¤ æ‰§è¡Œè®¢å•:
  âœ… è®¢å•å·²æäº¤: 123456789 - BUY 03690.HK 48è‚¡ @ $102.30

â³ ç­‰å¾…60ç§’è¿›å…¥ä¸‹ä¸€è½®...
```

---

## âš™ï¸ ç­–ç•¥é€»è¾‘

### **ä¹°å…¥æ¡ä»¶**

```python
def check_buy_condition(self, quote):
    # 1. ä»·æ ¼ > 0
    # 2. æˆäº¤é‡ > 0
    # 3. æ¶¨è·Œå¹… < 5%ï¼ˆé¿å…è¿½é«˜ï¼‰
    return True
```

### **é£ŽæŽ§æ£€æŸ¥**

1. **ä»Šæ—¥å·²äº¤æ˜“** â†’ è·³è¿‡
2. **æŒä»“å·²æ»¡** â†’ è·³è¿‡
3. **å·²æŒæœ‰è¯¥æ ‡çš„** â†’ è·³è¿‡
4. **èµ„é‡‘ä¸è¶³** â†’ è·³è¿‡

---

## ðŸ“ˆ å®žé™…äº¤æ˜“ç¤ºä¾‹

### **å½“æ»¡è¶³æ‰€æœ‰æ¡ä»¶æ—¶**

1. âœ… åœ¨äº¤æ˜“æ—¶æ®µ
2. âœ… æ ‡çš„ä»Šæ—¥æœªäº¤æ˜“
3. âœ… æŒä»“æ•° < 5
4. âœ… æœªæŒæœ‰è¯¥æ ‡çš„
5. âœ… èµ„é‡‘å……è¶³
6. âœ… ç­–ç•¥æ¡ä»¶æ»¡è¶³

**ç»“æžœ**ï¼š
```
âœ… è®¢å•å·²æäº¤: 987654321
   BUY 09988.HK 28è‚¡ @ $175.30
   æ€»é¢: $4,908.40
```

---

## ðŸ”§ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆèŽ·å–åˆ°0ä¸ªè¡Œæƒ…ï¼Ÿ
**A**: ä¸åœ¨äº¤æ˜“æ—¶æ®µï¼ŒAPIè¿”å›žå¯¹è±¡ä½†priceä¸ºç©ºã€‚

### Q2: è´¦æˆ·ä½™é¢ä¸ºè´Ÿæ•°æ­£å¸¸å—ï¼Ÿ
**A**: æ­£å¸¸ï¼Œè¿™æ˜¯æ¨¡æ‹Ÿç›˜ï¼Œå¯ä»¥æ¨¡æ‹Ÿèžèµ„èžåˆ¸ã€‚

### Q3: å¦‚ä½•ä¿®æ”¹ç›‘æŽ§çš„è‚¡ç¥¨ï¼Ÿ
**A**: ç¼–è¾‘ `configs/watchlist.yml` æ–‡ä»¶ã€‚

### Q4: å¦‚ä½•è°ƒæ•´äº¤æ˜“å‚æ•°ï¼Ÿ
**A**: ç¼–è¾‘ `scripts/realtime_auto_trading_example.py`ï¼Œä¿®æ”¹ `__init__` ä¸­çš„å‚æ•°ã€‚

### Q5: å¦‚ä½•æŸ¥çœ‹å®žé™…ä¸‹å•ç»“æžœï¼Ÿ
**A**:
```python
# æŸ¥è¯¢ä»Šæ—¥è®¢å•
orders = await trade_client.today_orders()
for order in orders:
    print(f"{order.symbol}: {order.side} {order.quantity}è‚¡ - {order.status}")
```

---

## ðŸŽ“ ä¸‹ä¸€æ­¥

### **å»ºè®®åœ¨äº¤æ˜“æ—¶æ®µæµ‹è¯•**

**æ¸¯è‚¡æ—¶æ®µ**ï¼š
- æ—©ç›˜ï¼š09:30-12:00
- åˆç›˜ï¼š13:00-16:00

**ç¾Žè‚¡æ—¶æ®µ**ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼š
- 21:30-æ¬¡æ—¥04:00

### **è§‚å¯Ÿé‡ç‚¹**

1. âœ… å®žæ—¶ä»·æ ¼æ˜¯å¦æ­£å¸¸èŽ·å–
2. âœ… äº¤æ˜“ä¿¡å·æ˜¯å¦æ­£ç¡®ç”Ÿæˆ
3. âœ… è®¢å•æ˜¯å¦æˆåŠŸæäº¤
4. âœ… é£ŽæŽ§é€»è¾‘æ˜¯å¦ç”Ÿæ•ˆ

---

## ðŸ“ž éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æžœéœ€è¦ï¼š
- æ·»åŠ æ›´å¤æ‚çš„ç­–ç•¥é€»è¾‘
- å®žçŽ°æ­¢æŸæ­¢ç›ˆ
- æ·»åŠ æŠ€æœ¯æŒ‡æ ‡
- å®žçŽ°WebSocketå®žæ—¶æŽ¨é€
- ä¼˜åŒ–é£ŽæŽ§ç³»ç»Ÿ

è¯·å‘Šè¯‰æˆ‘ï¼